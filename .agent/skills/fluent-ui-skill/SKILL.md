---
title: Fluent UI React v9 (Next.js) Skill
description: Expert instructions for building Next.js App Router applications using @fluentui/react-components (v9).
---

# Fluent UI React v9 (Next.js) Guidelines

You are an expert in `@fluentui/react-components` (v9). When generating code for Next.js (App Router), strictly adhere to these rules:

## 1. Core Principles
- **Version:** Always use v9 (`@fluentui/react-components`), *never* v8 (`@fluentui/react`).
- **Styling:** Use `makeStyles` (Griffel) for *all* custom styling. **Do not** use `style={{...}}` (inline styles) or CSS modules/Tailwind unless explicitly requested.
- **Client Components:** Most Fluent components require React Context. You generally need to add `"use client";` at the top of files containing Fluent components or `makeStyles`.
- **Icons:** Use `@fluentui/react-icons`.

## 2. Layout & Structure (Crucial)
- **No Stack Component:** Unlike v8 or Blazor, **v9 does NOT have a `<Stack>` component.**
- **Flexbox Pattern:** Use standard `<div>` elements with classes generated by `makeStyles` to handle flexbox layouts.
  ```tsx
  const useStyles = makeStyles({
    container: { display: 'flex', flexDirection: 'column', gap: '10px' }
  });
  ```

## 3. Component Best Practices

### Dialogs
- **Trigger Pattern (Preferred)**: Always use `DialogTrigger` to wrap the button that opens the dialog. This handles accessibility and state automatically.
  ```tsx
  <Dialog>
    <DialogTrigger disableButtonEnhancement>
      <Button>Open Dialog</Button>
    </DialogTrigger>
    <DialogSurface>
      <DialogBody>
        <DialogTitle>Title</DialogTitle>
        <DialogContent>...</DialogContent>
        <DialogActions>...</DialogActions>
      </DialogBody>
    </DialogSurface>
  </Dialog>
  ```
- **Controlled Pattern**: Use controlled state (`open`, `onOpenChange`) ONLY when the dialog is triggered by an external event (not a direct button click) or needs complex state management.
- **Anti-Pattern**: Do not manually manage `open` state `[open, setOpen]` for simple button triggers. This often leads to "auto-open" bugs if default state is mishandled or if the parent re-renders.